<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Notorious Nukem – Home Hub</title>

<style>
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
}

body {
    background: #000;
    font-family: "Press Start 2P", monospace, system-ui;
    color: #bffcff;
}

/* Full-screen hub area */
.hub {
    position: relative;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    background: url("business_center_bg.png") no-repeat center/cover;
}

/* Neon title billboard at the top */
.logo {
    position: absolute;
    top: 3%;
    left: 50%;
    transform: translateX(-50%);
    padding: 10px 20px;
    font-size: 2.2rem;
    letter-spacing: 0.12em;
    text-align: center;
    color: #d56aff;
    background: rgba(0, 0, 0, 0.65);
    border: 4px solid #00f0ff;
    box-shadow:
        0 0 10px #b84dff,
        0 0 25px #8a2be2,
        0 0 40px #6a00ff;
    z-index: 1;
}

.logo span.symbol {
    margin-right: 12px;
    color: #00ff9c;
}

/* Scratch panel – this is the hidden message area under the foil */
.scratch-panel {
    position: absolute;
    top: 0%;
    left: 75%;
    transform: translateX(-50%);
    width: 320px;
    height: 145px;
    background: #111;
    background-image:
        repeating-linear-gradient(
            135deg,
            rgba(255,255,255,0.05) 0px,
            rgba(255,255,255,0.05) 2px,
            rgba(0,0,0,0.0) 2px,
            rgba(0,0,0,0.0) 5px
        );
    border-radius: 6px;
    opacity: 1;
    z-index: 2;  /* below the scratch canvas */
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8px;
    box-sizing: border-box;
    text-align: center;
    color: #e7ffff;
    font-size: 0.8rem;
}

/* Scratch-off canvas overlay */
#scratch-canvas {
    position: absolute;
    top: 0%;
    left: 75%;
    transform: translateX(-50%);
    width: 320px;
    height: 145px;
    z-index: 3;       /* above the scratch-panel */
    touch-action: none;
    cursor: pointer;
}

/* Small “press start” prompt */
.press-start {
    position: absolute;
    top: 16%;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.9rem;
    text-shadow: 0 0 6px #00f0ff;
    animation: blink 1s steps(2, start) infinite;
    z-index: 4;
}

@keyframes blink {
    50% { opacity: 0; }
}

/* Shared styling for menu hotspots */
.menu-node {
    position: absolute;
    padding: 14px 22px;
    font-size: 1rem;
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid #00ffc3;
    text-decoration: none;
    color: #e7ffff;
    box-shadow: 0 0 6px #00ffc3;
    cursor: pointer;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.menu-node::before {
    content: "■ ";
    color: #ffeb3b;
}

.menu-node:hover {
    transform: translateY(-3px);
    box-shadow: 0 0 12px #00ffc3;
}

/* Platform placements (adjust percentages to line up with tiles) */

/* Mid-level – left to right */
#start-game {
    bottom: 48%;
    left: 12%;
}

#training {
    bottom: 78%;
    left: 10%;
}

#load-game {
    bottom: 59%;
    left: 53%;
}

/* Ground level */
#arsenal {
    bottom: 11%;
    left: 21%;
}

#options {
    bottom: 29%;
    left: 52%;
}

#credits {
    bottom: 18%;
    left: 66%;
}

/* High right platform */
#extras {
    bottom: 71%;
    right: 7%;
}
</style>
</head>
<body>

<div class="hub">

    <!-- Billboard text -->
    <div class="logo">
        <span class="symbol">¤</span> NOTORIOUS NUKEM
    </div>

    <!-- Scratch panel with hidden message -->
    <div class="scratch-panel">
        <!-- Put your secret / flag / hint here -->
        TOP-SECRET BRIEFING:
        <br>
        "This is where the secret things will be kept"
    </div>

    <!-- Scratchable image layer on top -->
    <canvas id="scratch-canvas"></canvas>

    <div class="press-start">PRESS START TO SPAWN</div>

    <!-- Mid-level “Duke Nukem” style platforms -->
    <a href="#start" class="menu-node" id="start-game">
        Mission Briefing – Start Game
    </a>

    <a href="#training" class="menu-node" id="training">
        Combat Sim – Training
    </a>

    <a href="#load" class="menu-node" id="load-game">
        Data Vault – Load / Continue
    </a>

    <!-- Ground level props -->
    <a href="#arsenal" class="menu-node" id="arsenal">
        Weapons Crate – Arsenal
    </a>

    <a href="#options" class="menu-node" id="options">
        Locker Room – Options
    </a>

    <a href="#credits" class="menu-node" id="credits">
        Neon Alley – Credits
    </a>

    <!-- High right platform / secret area -->
    <a href="#extras" class="menu-node" id="extras">
        Roof Laptop – Extras / CTF Codes
    </a>

</div>

<!-- Scratch-off behaviour -->
<script>
(function () {
    const canvas = document.getElementById('scratch-canvas');
    if (!canvas) return;

    const ctx = canvas.getContext('2d');

    // Image used as the top scratch layer
    const foilImage = new Image();
    foilImage.src = 'nukemsquirrel.png';

    function drawFoil() {
        const rect = canvas.getBoundingClientRect();
        canvas.width = rect.width;
        canvas.height = rect.height;

        if (!foilImage.complete) {
            return;
        }

        ctx.globalCompositeOperation = 'source-over';
        ctx.clearRect(0, 0, rect.width, rect.height);
        ctx.drawImage(foilImage, 0, 0, rect.width, rect.height);
    }

    foilImage.onload = drawFoil;
    window.addEventListener('resize', drawFoil);

    let scratching = false;

    function getPos(e) {
        const rect = canvas.getBoundingClientRect();
        let x, y;
        if (e.touches && e.touches.length > 0) {
            x = e.touches[0].clientX;
            y = e.touches[0].clientY;
        } else {
            x = e.clientX;
            y = e.clientY;
        }
        return {
            x: x - rect.left,
            y: y - rect.top
        };
    }

    function scratch(e) {
        if (!scratching) return;
        e.preventDefault();
        const pos = getPos(e);
        ctx.globalCompositeOperation = 'destination-out';
        ctx.beginPath();
        ctx.arc(pos.x, pos.y, 18, 0, Math.PI * 2);
        ctx.fill();
    }

    canvas.addEventListener('mousedown', function (e) {
        scratching = true;
        scratch(e);
    });

    window.addEventListener('mouseup', function () {
        scratching = false;
    });

    canvas.addEventListener('mousemove', scratch);

    canvas.addEventListener('touchstart', function (e) {
        scratching = true;
        scratch(e);
    }, { passive: false });

    window.addEventListener('touchend', function () {
        scratching = false;
    });

    canvas.addEventListener('touchmove', scratch, { passive: false });

    // Initial draw in case image loads from cache
    if (foilImage.complete) {
        drawFoil();
    }
})();
</script>

</body>
</html>
